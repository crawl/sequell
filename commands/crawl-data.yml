# YAML config for !listgame and friends.
#

memory-use-limit-megabytes: 768

##
# Maps query context names to table names. Thus !lg will query the `logrecord`
# table while !lm will query the `milestone` table. Note that each table
# name must also have an associated `name`-fields-with-type key.
query-contexts:
  lg:
    table: logrecord
  lm:
    table: milestone
    autojoin-context: lg

##
# Field name -> SQL name mappings; some field names have to be mapped to
# different names to avoid SQL keyword collisions.
sql-field-names:
  name: pname
  char: charabbrev
  str: sstr
  dex: sdex
  int: sint
  start: tstart
  end: tend
  time: ttime
  map: mapname

##
# Fake query fields that are transformed into a real query field by code in
# query_synthetic.rb
fake-fields-with-type:
  - when*

##
# Field type suffixes:
# - I (integer)
# - D (date+time)
#
# - * (not summarisable)
logrecord-fields-with-type:
  - idI*
  - file*
  - alpha
  - src
  - v
  - cv
  - lv
  - scI*
  - name
  - uidI
  - race
  - crace
  - cls
  - char
  - xlI
  - sk
  - sklevI
  - title
  - ktyp
  - killer
  - ckiller
  - ikiller
  - kpath
  - kmod
  - kaux
  - ckaux
  - place
  - br
  - lvlI
  - ltyp
  - hpI
  - mhpI
  - mmhpI
  - damI
  - strI
  - intI
  - dexI
  - god
  - pietyI
  - penI
  - wizI
  - startD*
  - endD*
  - durI*
  - turnI*
  - uruneI
  - nruneI
  - tmsg
  - vmsg
  - splat
  - rstart*
  - rend*
  - ntvI
  - map
  - mapdesc

milestone-fields-with-type:
  - game_idI
  - idI*
  - file*
  - alpha
  - src
  - v
  - cv
  - name
  - race
  - crace
  - cls
  - char
  - xlI
  - sk
  - sklevI
  - title
  - place
  - br
  - lvlI
  - ltyp
  - hpI
  - mhpI
  - mmhpI
  - strI
  - intI
  - dexI
  - god
  - durI*
  - turnI*
  - uruneI
  - nruneI
  - timeD*
  - rtime*
  - rstart*
  - verb
  - noun
  - milestone
  - ntvI
  - oplace


##
# game types recognized by !lg and friends, mapped to the table name prefix.
# For instance, Crawl games will query `logrecord` and `milestone`, Sprint
# games will query `spr_logrecord` and `spr_milestone` and so on.
game-type-prefixes:
  crawl: ''
  sprint: spr_
  zotdef: zot_

default-game-type: crawl

# Only used by !apt at the moment.
skills:
  - Fighting
  - Short Blades
  - Long Blades
  - Axes
  - Maces & Flails
  - Polearms
  - Staves
  - Slings
  - Bows
  - Crossbows
  - Throwing
  - Armour
  - Dodging
  - Stealth
  - Stabbing
  - Shields
  - Traps & Doors
  - Unarmed Combat
  - Spellcasting
  - Conjurations
  - Hexes
  - Charms
  - Summonings
  - Necromancy
  - Translocations
  - Transmutations
  - Fire Magic
  - Ice Magic
  - Air Magic
  - Earth Magic
  - Poison Magic
  - Invocations
  - Evocations
  - Experience

skill-abbreviations:
  crossbows: Xbows
  throwing: Throw
  dodging: Dodge
  stabbing: Stab
  spellcasting: Splcast
  conjurations: Conj
  enchantments: Ench
  summonings: Summ
  necromancy: Nec
  translocations: Tloc
  transmutations: Tmut
  divinations: Div
  invocations: Inv
  evocations: Evo
  experience: Exp

skill-expansions:
  pois: poison magic
  flails: maces & flails
  invo: invocations
  necro: necromancy
  tmut: transmutations
  doors: traps & doors
  armor: armour
  uc: unarmed combat

# Must include all variations of branch names here. Canonical names may be
# generated by place-fixups. Suffix the branch name with : to indicate that
# it has a depth
branches:
  - 'D:'
  - 'Orc:'
  - 'Elf:'
  - 'Lair:'
  - 'Swamp:'
  - 'Shoal:'
  - 'Shoals:'
  - 'Slime:'
  - 'Snake:'
  - 'Hive:'
  - 'Vault:'
  - 'Vaults:'
  - 'Crypt:'
  - 'Tomb:'
  - 'Dis:'
  - 'Geh:'
  - 'Coc:'
  - 'Tar:'
  - 'Zot:'
  - 'Ziggurat:'
  - 'Zig:'
  - Lab
  - Pan
  - Bazaar
  - Bzr
  - Hell
  - Blade
  - Temple
  - Abyss
  - Ossuary
  - Ice
  - IceCv

god:
  ash: Ashenzari
  beo: Beogh
  che: Cheibriados
  ely: Elyvilon
  fed: Fedhas
  jiy: Jiyva
  kik: Kikubaaqudgha
  lug: Lugonu
  mak: Makhleb
  oka: Okawaru
  tro: Trog
  veh: Vehumet
  xom: Xom
  yre: Yredelemnul
  zin: Zin
  sif: Sif Muna
  tso: The Shining One
  nem: Nemelex Xobeh

species:
  Ce: Centaur
  DG: Demigod
  DS: Demonspawn
  Dr: Draconian
  El: Elf
  Fe: Felid
  Gh: Ghoul
  Gn: Gnome
  Ha: Halfling
  Hu: Human
  Ke: Kenku
  Ko: Kobold
  Mf: Merfolk
  Mi: Minotaur
  Mu: Mummy
  Na: Naga
  OM: Ogre-Mage
  Og: Ogre
  Sp: Spriggan
  Tr: Troll
  Vp: Vampire
  DD: Deep Dwarf
  HD: Hill Dwarf
  MD: Mountain Dwarf
  DE: Deep Elf
  GE: Grey Elf
  HE: High Elf
  SE: Sludge Elf
  HO: Hill Orc

dead-species:
  - HD
  - El
  - Gn
  - OM
  - GE

species-flavours:
  draconian:
    - base
    - red
    - white
    - green
    - yellow
    - grey
    - black
    - purple
    - mottled
    - pale

genus-species:
  draconian: draconian
  elven:
    - high elf
    - deep elf
    - sludge elf
  dwarven:
    - mountain dwarf
    - deep dwarf
  ogre: ogre

species-enum-map-override:
  felid: SP_CAT

classes:
  Ar: Artificer
  As: Assassin
  Be: Berserker
  Cj: Conjurer
  Cr: Crusader
  En: Enchanter
  Fi: Fighter
  Gl: Gladiator
  He: Healer
  Hu: Hunter
  Mo: Monk
  Ne: Necromancer
  Pa: Paladin
  Pr: Priest
  Re: Reaver
  St: Stalker
  Su: Summoner
  Th: Thief
  Tm: Transmuter
  Wn: Wanderer
  Wr: Warper
  Wz: Wizard
  AE: Air Elementalist
  EE: Earth Elementalist
  FE: Fire Elementalist
  IE: Ice Elementalist
  AK: Abyssal Knight
  CK: Chaos Knight
  DK: Death Knight
  VM: Venom Mage
  AM: Arcane Marksman

dead-classes:
  - Th
  - Re
  - Pa

column-aliases:
  role: cls
  class: cls
  job: cls
  species: race
  sp: race
  r: race
  ktype: ktyp
  score: sc
  turns: turn
  skill: sk
  ch: char
  c: cls
  cl: xl
  clev: xl
  type: verb
  gid: game_id

# Public server abbreviations
sources:
  - cao
  - cdo
  - rhf

boolean-fields:
  - splat
  - alpha

place-fixups:
  '^shoal\b(.*)': ['Shoals$1', 'Shoal$1']
  '^vaults\b(.*)': 'Vault$1'
  '^v\b(.*)': 'Vault$1'
  '^ice$': 'IceCv'

aggregate-function-types:
  cdist: '*'
  avg: I
  max: '*'
  min: '*'
  sum: I
  std: I
  variance: I

milestone-types:
  - abyss.enter
  - abyss.exit
  - rune
  - orb
  - orb.destroy
  - ghost
  - ghost.ban
  - uniq
  - uniq.ban
  - br.enter
  - br.end
  - god.mollify
  - god.renounce
  - god.worship
  - shaft
  - crash
  - monstrous
  - zig.enter
  - zig.exit
  - death

tournament-prefixes:
  - t
  - tourney
  - tournament

tournament-versions:
  2008: '0.4'
  2009: '0.5'
  2010: '0.7'

tournament-sprint-map:
  2010: dungeon sprint mu

wtf-lookup:
  greensnark: The completely awesome variety of snark.
  tgwi: The Good Wife (according to Wikipedia)
